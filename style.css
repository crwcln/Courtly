:root {
    --accent: #ccff00;
    --bg: #0a0a0a;
    --card: rgba(255, 255, 255, 0.05);
    --border: rgba(255, 255, 255, 0.1);
}

body, html {
    margin: 0;
    padding: 0;
    background: var(--bg);
    color: white;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", Helvetica, Arial, sans-serif;    height: 100vh;
    /* SF Pro looks best with these rendering tweaks */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    overflow: hidden;
    color: #ffffff;
    line-height: 1.5;
}
.header-controls {
    display: flex;
    align-items: center;
    gap: 15px; /* Adjust spacing between buttons */
    position: absolute;
    top: 20px;
    right: 20px;
}
/* Targeting the plus button */
.btn-main, .plus-button-class { 
    color: #000000 !important;
    font-weight: 800;
}

/* Targeting the minus button */
.btn-sub, .minus-button-class {
    color: #ffffff !important;
    font-weight: 800;
}
/* Ensure the buttons themselves don't stack */
.header-controls button {
    background: none;
    border: none;
    color: white; /* All text white as requested */
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
    cursor: pointer;
}
input, button, select, textarea {
    font-family: inherit;
}
/* Sidebar Logic */
.sidebar {
    position: fixed;
    left: -325px;
    top: 0;
    width: 280px;
    height: 100%;
    background: #111;
    border-right: 1px solid var(--border);
    z-index: 100;
    transition: 0.3s ease;
    padding: 20px;
}
.sidebar.active { left: 0; }

/* Layout */
.main-content {
    display: flex;
    flex-direction: column;
    height: 100vh;
    padding: 20px;
    gap: 20px;
}

.top-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo { font-weight: 900; letter-spacing: -1px; font-size: 1.5rem; color: var(--accent); }

.scoreboard-horizontal {
    display: flex;
    flex-direction: row;
    gap: 20px;
    flex: 1; 
    justify-content: center;
    width: 100%;
    align-items: center;
}

/* Cards */
.card {
    flex: 1;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    padding: 20px;
}

.score-display {
    font-size: clamp(5rem, 15vw, 12rem);
    font-weight: 850;
    margin: 10px 0;
}

.team-name {
    background: transparent;
    border: none;
    color: #888;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
    outline: none;
}

.controls {
    display: flex;
    gap: 10px;
    width: 100%;
}

.btn-main { background: var(--accent); border: none; flex: 2; padding: 20px; border-radius: 15px; font-weight: bold; font-size: 1.5rem; cursor: pointer; }
.btn-sub { background: #333; color: white; border: none; flex: 1; border-radius: 15px; cursor: pointer; }

.serve-indicator { position: absolute; top: 20px; font-size: 1.5rem; transition: 0.3s; }
.hidden { opacity: 0; }

.finish-btn {
    background: white;
    color: black;
    border: none;
    padding: 15px;
    border-radius: 50px;
    font-weight: bold;
    width: 100%;
    max-width: 400px;
    margin: 0 auto;
    display: block;
}
/* Ensure the overlay covers the screen but anchors content to bottom-right */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.6); 
    display: flex !important; /* Forces flex logic */
    justify-content: flex-end; /* Horizontal Right */
    align-items: flex-end;    /* Vertical Bottom */
    padding: 30px;            
    z-index: 2000;
    pointer-events: none;     /* Allows clicking 'through' the dark area */
}

/* The Box itself */
.modal-box {
    pointer-events: auto;     /* Re-enables clicking inside the alert */
    width: 260px;
    padding: 20px;
    background: #111;
    border-radius: 15px;
    text-align: right;
    position: relative;
    border: 1px solid var(--accent);
    box-shadow: 0 0 20px rgba(204, 255, 0, 0.2);

    /* FIX: Force slide-in from right */
    transform: translateX(0); 
    animation: slideInRight 0.4s cubic-bezier(0.25, 1, 0.5, 1) forwards;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100%); /* Starts completely off-screen to the right */
    }
    to {
        opacity: 1;
        transform: translateX(0);    /* Slides into view */
    }
}

/* The Close X */
.close-x {
    position: absolute;
    top: 10px;
    left: 15px; /* Opposite of right-justified text */
    color: #666;
    font-size: 20px;
    cursor: pointer;
    line-height: 1;
}
/* Match Point Glow Animation */
@keyframes pulse-glow {
    0% { box-shadow: 0 0 10px rgba(204, 255, 0, 0.2); }
    50% { box-shadow: 0 0 30px rgba(204, 255, 0, 0.6); border-color: var(--accent); }
    100% { box-shadow: 0 0 10px rgba(204, 255, 0, 0.2); }
}

.match-point-card {
    animation: pulse-glow 1.5s infinite;
}

/* Helper Class */
.hidden { display: none !important; }

.num-input {
    width: 100%;
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--border);
    color: white;
    padding: 10px;
    border-radius: 10px;
    margin-top: 5px;
    font-family: inherit;
}

select.num-input option {
    background: #111;
    color: white;
}

.setting-group {
    margin-bottom: 20px;
}

.setting-group label {
    font-size: 0.75rem;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 1px;
}
/* Custom Dropdown Styling */
.custom-select {
    position: relative;
    user-select: none;
    margin-top: 8px;
}

.select-trigger {
    background: rgba(255, 255, 255, 0.07);
    padding: 12px 16px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    transition: all 0.2s ease;
}

.select-trigger:hover { background: rgba(255, 255, 255, 0.12); }

.select-options {
    position: absolute;
    top: calc(100% + 5px);
    width: 100%;
    background: #1a1a1a;
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
    z-index: 50;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    animation: slideDown 0.2s ease forwards;
}

.select-options div {
    padding: 12px 16px;
    cursor: pointer;
    transition: background 0.2s;
}

.select-options div:hover { background: var(--accent); color: black; }

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Decision Buttons */
.decision-actions {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin-top: 20px;
}

.btn-check {
    background: var(--accent);
    color: black;
    border: none;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    font-size: 1.5rem;
    cursor: pointer;
}

.btn-cancel {
    background: #ff4444;
    color: white;
    border: none;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    font-size: 1.5rem;
    cursor: pointer;
}
.card {
    display: flex;
    flex-direction: column;
    justify-content: center; /* Vertical center */
    align-items: center;     /* Horizontal center */
    height: 100%;            /* Fill the space */
}

.score-display {
    line-height: 1;          /* Removes extra spacing above/below numbers */
    margin: 0;               /* Reset margins for tighter control */
    pointer-events: none;    /* Prevents the numbers themselves from being 'tapped' */
}
/* MOBILE FRIENDLY OVERRIDE */
@media (max-width: 768px) {
    /* Stack cards vertically instead of horizontally */
    .scoreboard-horizontal {
        flex-direction: column;
        gap: 10px;
        padding: 10px;
    }

    .card {
        flex: 1; /* Allow cards to share vertical space */
        width: 100%;
        max-width: 100%;
        height: auto;
        aspect-ratio: auto; /* Remove fixed shape on mobile */
        padding: 15px;
    }

    /* Make the score big but readable on a phone */
    .score-display {
        font-size: 25vh; /* Scale based on screen height */
        margin: 5px 0;
    }

    /* Make buttons larger for "Fat Finger" accessibility */
    /* Global Button Polish */
button {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    letter-spacing: 0.5px;
    text-transform: uppercase;
    font-weight: 700;
}

button:active {
    transform: scale(0.95); /* Physical "click" feel */
}

/* Main + and - Buttons */
.btn-main, .btn-sub {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: white;
    backdrop-filter: blur(5px);
}

.btn-main:hover {
    background: var(--accent);
    color: black;
    box-shadow: 0 0 15px var(--accent);
}

/* Dropdown Menu Polish */
.custom-select {
    position: relative;
    width: 100%;
}

.select-trigger {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 12px 15px;
    border-radius: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #eee;
}

.select-options {
    position: absolute;
    top: calc(100% + 5px);
    left: 0;
    right: 0;
    background: #1a1a1a;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    overflow: hidden;
    z-index: 100;
    box-shadow: 0 10px 25px rgba(0,0,0,0.5);
}

.select-options div {
    padding: 12px 15px;
    transition: 0.2s;
}

.select-options div:hover {
    background: var(--accent);
    color: black;
}

/* Finish Button - High Priority */
.finish-btn {
    font-weight: 700; /* Makes it stand out */
    padding: 12px 20px;
}
.finish-btn-nav {
    /* Font inherited from body (SF Pro) */
    font-weight: 500;
    font-size: 15px;
    
    /* The iOS "Destructive" look */
    color: #ff453a; /* iOS System Red */
    background: rgba(255, 69, 58, 0.1); /* Very faint red background */
    
    /* Clean Shape */
    border: none;
    padding: 6px 14px;
    border-radius: 8px; /* Classic iOS corner radius */
    
    cursor: pointer;
    transition: all 0.2s ease;
}

.finish-btn-nav:active {
    background: rgba(255, 69, 58, 0.2);
    transform: scale(0.96); /* Subtle "press" effect */
}
    /* Hide sidebar by default with a wider offset */
    .sidebar {
        width: 85%; /* Take up most of the screen on mobile */
        left: -90%; 
    }
}
.switch-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    padding: 10px 0;
}

/* The actual toggle design */
#vibrateToggle {
    appearance: none;
    width: 40px;
    height: 20px;
    background: #333;
    border-radius: 20px;
    position: relative;
    cursor: pointer;
    transition: 0.3s;
}

#vibrateToggle:checked {
    background: var(--accent);
}

#vibrateToggle::before {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    background: white;
    border-radius: 50%;
    top: 2px;
    left: 2px;
    transition: 0.3s;
}

#vibrateToggle:checked::before {
    left: 22px;
}
.top-nav, .card, button {
    position: relative; /* Allows z-index to work */
    z-index: 10;        /* Pulls them to the front */
    pointer-events: auto !important; /* Forces them to accept clicks */
}

.app-wrapper, .main-content {
    z-index: 1; /* Keeps the background containers in the back */
}
/* 1. LOADER OVERLAY */
#loader {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: #050505;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 9999; /* Stays on top of everything */
    transition: opacity 0.5s ease;
}

/* THE MINI COURT */
.mini-court {
    width: 160px; /* Slightly wider to fit the kitchen */
    height: 80px;
    border: 3px solid white;
    position: relative;
    background: #2e7d32; /* Deep Pickleball Green */
    margin-bottom: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

/* NET & KITCHEN LINES */
.net {
    position: absolute;
    left: 50%;
    width: 2px;
    height: 100%;
    background: white;
    z-index: 2;
}

.kitchen-left, .kitchen-right {
    position: absolute;
    top: 0;
    width: 30px; /* The Kitchen depth */
    height: 100%;
    border-right: 2px solid white;
    background: rgba(255, 255, 255, 0.1); /* Subtle highlight for kitchen area */
}

.kitchen-left { left: 0; width: 50px; border-right: 2px solid white; } /* Adjusting to meet middle */
.kitchen-right { right: 0; width: 50px; border-left: 2px solid white; }

/* Overwriting the kitchen to be accurate: 7ft from net */
/* In our scale, let's put them 20px from the center net */
.kitchen-left {
    left: 50%;
    margin-left: -35px;
    width: 1px;
    height: 100%;
    background: white;
}

.kitchen-right {
    left: 50%;
    margin-left: 35px;
    width: 1px;
    height: 100%;
    background: white;
}

/* THE BALL ANIMATION */
.pickleball {
    width: 14px;
    height: 14px;
    background: #ccff00;
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 10%;
    transform: translateY(-50%);
    z-index: 3;
    animation: proBounce 1.8s infinite linear;
    box-shadow: 0 0 10px rgba(204, 255, 0, 0.8);
}

@keyframes proBounce {
    /* 0% to 70%: THE ACTIVE BOUNCE */
    0% { left: 5%; top: 80%; transform: scale(1.2, 0.8); } /* Hit Left (Squish) */
    15% { top: 20%; transform: scale(1, 1); }             /* Peak Left */
    35% { left: 85%; top: 80%; transform: scale(1.2, 0.8); } /* Hit Right (Squish) */
    50% { top: 20%; transform: scale(1, 1); }             /* Peak Right */
    70% { left: 5%; top: 80%; transform: scale(1.2, 0.8); }  /* Back to Start Hit */

    /* 70% to 100%: THE WAIT */
    70.1%, 100% { 
        left: 5%; 
        top: 80%; 
        transform: scale(1, 1); /* Sits still and round */
    }
}

.pickleball {
    /* Increase the duration slightly so the wait feels natural */
    animation: proBounce 2.0s infinite ease-in-out; 
}
#version-tag {
    position: absolute;
    bottom: 20px;
    font-size: 10px;
    letter-spacing: 1px;
    color: rgba(255, 255, 255, 0.3); /* Very faint white */
    font-family: monospace;
    text-transform: uppercase;
}
#loading-text {
    /* This targets Apple's system font first, then similar clean fonts */
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    font-weight: 600; /* Semi-bold looks best for SF Pro */
    font-size: 1.1rem;
    letter-spacing: -0.022em; /* SF Pro looks better with slightly tighter tracking */
    color: #ffffff;
    text-align: center;
    margin-top: 20px;
}
/* BASE STYLE FOR ALL TOOL BUTTONS */
button {
    font-family: inherit; /* Uses SF Pro from the body */
    background: none;
    border: none;
    color: #ffffff; /* iOS System Blue */
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8px;
    transition: opacity 0.2s ease, transform 0.1s ease;
}

/* THE "PRESS" EFFECT */
button:active {
    opacity: 0.5; /* iOS standard feedback */
    transform: scale(0.95);
}

/* DESTRUCTIVE BUTTONS (Reset / Clear History) */
.clear-history-btn, .finish-btn {
    color: #ff453a; /* iOS System Red */
}

/* THE "X" (CLOSE) BUTTON */
.close-settings-btn {
    background: rgba(255, 255, 255, 0.1);
    width: 30px;
    height: 30px;
    border-radius: 50%;
    color: #ffffff;
    font-size: 18px;
    font-weight: 300; /* Thin 'X' looks more modern */
}
#settings-panel {
    /* The Glass Effect */
    background: rgba(28, 28, 30, 0.7); /* Deep dark with transparency */
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%); /* Safari support */
    
    /* Layout & Border */
    border: 0.5px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 20px;
    
    /* Shadow for depth */
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8);
    
    /* Center it on screen */
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 400px;
    z-index: 10000;
}
